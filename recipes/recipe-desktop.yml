---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json

# image will be published to ghcr.io/<user>/<name>
name: nsos-desktop
# description will be included in the image's metadata
description: "NSOS Custom Desktop Image (GNOME)"

# the base image to build on top of (FROM) and the version tag to use
base-image: quay.io/fedora-ostree-desktops/kinoite
image-version: 42

modules:
  - from-file: base.yml
  - from-file: module-recipes/default-flatpaks.yml
  # - from-file: module-recipes/gnome-extensions.yml

  - type: dnf
    install:
      packages:
        - solaar-udev
        - lm_sensors
    remove:
      packages:
        - firefox

  - type: script
    scripts:
      - fancontrol-udev.sh
      - ublue.sh
      - initramfs-zstd.sh

  - type: os-release
    properties:
      ID: nsos-desktop
      ID_LIKE: fedora
      NAME: NS-OS
      PRETTY_NAME: NS-OS Desktop GNOME

  - type: signing
